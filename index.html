<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Xırdalan və Bakı üçün sürgülü setkaların hazırlanması və sifarişi. Keyfiyyətli və zəmanətli məhsullar – SetkaZone." />
  <meta name="keywords" content="sürgülü setka, pəncərə setkası, qapı setkası, Xırdalan setka, Bakı setka, SetkaZone" />
  <meta name="author" content="SetkaZone" />
  <title>SetkaZone</title>

  <style>
   .notice {
  display: block;
  clear: both;
  background: linear-gradient(to right, #e0ffe6, #ccffe0);
  border-left: 6px solid #28a745;
  color: #155724;
  padding: 14px 20px;
  margin: 16px 0 12px 0;
  font-weight: 600;
  border-radius: 10px;
  max-width: 100%;
  animation: pulseNotice 2s infinite;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
   .notice::before {
      content: "📌";
      font-size: 1.2em;
      margin-right: 10px;
    }

    @keyframes pulseNotice {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.03);
        opacity: 0.9;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }
 * {
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      color: #000305;
      background: linear-gradient( to right,#33ffff,#3c3cfb);
    }
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    header img {
      width: 120px;
      margin-bottom: 10px;
    }
    header h1 {
      font-size: 2.5em;
      margin: 0;
      font-weight: bold;
    }
    .info-box {
  background: linear-gradient(to right, #e0f7fa, #d0ebff);
  border: 2px solid #b0d4f1;
  padding: 25px 30px;
  border-radius: 15px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
  color: #003865;
  max-width: 700px;
  margin: 0 auto 40px auto;
  font-family: 'Segoe UI', sans-serif;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.info-box:hover {
  transform: scale(1.02);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.2);
}

.info-box a {
  color: #005baa;
  text-decoration: none;
  font-weight: 600;
  transition: color 0.2s ease;
}

.info-box a:hover {
  color: #002b5b;
  text-decoration: underline;
}

.info-box p {
  margin: 12px 0;
  font-size: 1.1em;
  line-height: 1.6;
}
    .image-gallery {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 40px;
    }
    .image-gallery img {
      width: 100%;
      max-width: 300px;
      height: auto;
      border-radius: 10px;
      transition: transform 0.4s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .image-gallery img:hover {
      transform: scale(1.05);
    }
    .social-icons {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    .social-icons a {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #000006;
      font-weight: 600;
      text-decoration: none;
      font-size: 1.1em;
    }
    .social-icons img {
      width: 28px;
      height: 28px;
    }
#orderButton {
  display: block;
  margin: 30px auto 50px auto;
  background-color: #66e56f;
  color: white;
  font-size: 1.5em;
  padding: 15px 40px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 0 12px rgba(0, 255, 100, 0.5);
  animation: pulse 2s infinite;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#orderButton:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(0, 255, 100, 0.8);
}

@keyframes pulse {
  0% { box-shadow: 0 0 10px rgba(0,255,100,0.4); }
  50% { box-shadow: 0 0 20px rgba(0,255,100,0.9); }
  100% { box-shadow: 0 0 10px rgba(0,255,100,0.4); }
}
.fancy-button {
  display: inline-block;
  background-color: #66e56f;
  color: white;
  font-size: 1.1em;
  padding: 12px 26px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 0 12px rgba(0, 255, 100, 0.5);
  animation: pulse 2s infinite;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.fancy-button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(0, 255, 100, 0.8);
}


    #calculatorForm {
      display: none;
      max-width: 700px;
      margin: 0 auto 40px auto;
      background: white;
      padding: 25px 40px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      
      position: relative; 
      z-index: 1000;       
    }
    #calculatorForm h1 {
      text-align: center;
      margin-bottom: 25px;
      color: #005baa;
    }
    #calculatorForm label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
      color: #333;
    }
    #calculatorForm input[type="number"],
    #calculatorForm input[type="text"],
    #calculatorForm select {
      width: 100%;
      padding: 12px 15px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1.5px solid #ccc;
      font-size: 1em;
      transition: border-color 0.3s ease;
    }
    #calculatorForm input[type="number"]:focus,
    #calculatorForm input[type="text"]:focus,
    #calculatorForm select:focus {
      border-color: #005baa;
      outline: none;
    }
    .color-options {
      display: flex;
      gap: 18px;
      margin-top: 10px;
      justify-content: start;
    }
    .color-options label {
      cursor: pointer;
    }
    .color-box {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      border: 2.5px solid transparent;
      transition: border-color 0.3s ease;
      display: inline-block;
    }
    .color-options input[type="radio"] {
      display: none;
    }
    .color-options input[type="radio"]:checked + .color-box {
      border-color: #005baa;
      box-shadow: 0 0 8px rgba(0, 91, 170, 0.6);
    }
    #calculatorForm button {
      margin-top: 30px;
      width: 100%;
      padding: 15px;
      font-size: 1.3em;
      font-weight: 700;
      color: #fff;
      background-color: #66e56f;;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #calculatorForm button:hover {
      background-color: #bafec1;
    }
    #errorMsg {
      margin-top: 20px;
      color: #d93025;
      font-weight: 700;
      text-align: center;
      display: none;
    }
    #result {
      margin-top: 25px;
      text-align: center;
      font-weight: 700;
      color: #005baa;
      font-size: 1.2em;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    #result.show {
      opacity: 1;
    }
    .faq {
      max-width: 700px;
      margin: 0 auto 60px auto;
    }
    .faq h2 {
      text-align: center;
      font-size: 1.8em;
      margin-bottom: 20px;
    }
    .faq-item {
      margin-bottom: 15px;
    }
    .faq-item summary {
      font-weight: bold;
      cursor: pointer;
    }
    @media (max-width: 768px) {
      .image-gallery {
        flex-direction: column;
        align-items: center;
      }
      .social-icons {
        flex-direction: column;
        gap: 20px;
      }
    }
    #errorMsg {
  margin-top: 20px;
  color: #d93025;
  font-weight: 700;
  text-align: center;
  display: none;
  animation: fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.whatsapp-button {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background-color: #25D366;
  color: white;
  font-weight: 600;
  text-decoration: none;
  padding: 12px 22px;
  border-radius: 10px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.15);
  font-size: 1.1em;
  transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;
}

.whatsapp-button:hover {
  background-color: #1ebe5b;
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

.whatsapp-icon {
  width: 24px;
  height: 24px;
  flex-shrink: 0;
}
.video-link {
  display: inline-block;
  background: linear-gradient(to right, #00c6ff, #0072ff);
  padding: 12px 18px;
  border-radius: 10px;
  color: white;
  font-weight: bold;
  font-size: 1.1em;
  text-decoration: none;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
.video-link:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(0,0,0,0.3);
  background: linear-gradient(to right, #0072ff, #00c6ff);
}

.video-modal {
  display: none;
  position: fixed;
  z-index: 10000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.75);
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.5s forwards;
}

.video-modal.show {
  display: flex;
}

.video-content {
  position: relative;
  background: #000;
  border-radius: 12px;
  padding: 10px;
  animation: scaleIn 0.4s ease;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  max-width: 90%;
  width: 600px;
}

.video-content video {
  width: 100%;
  height: auto;
  border-radius: 10px;
}

.close-btn {
  position: absolute;
  top: -10px;
  right: -10px;
  background: #ff004c;
  color: white;
  font-size: 24px;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  line-height: 36px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  transition: transform 0.2s;
}
.close-btn:hover {
  transform: rotate(90deg);
  background: #e60044;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes scaleIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
  
@keyframes fadeScaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
#calculatorForm.show-animated {
  animation: fadeScaleIn 0.4s ease-out;
}
#formOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  z-index: 999;
}
#formClose {
  position: absolute;
  top: 10px;
  right: 20px;
  cursor: pointer;
  font-size: 28px;
  font-weight: bold;
  color: #ff004c;
  z-index: 1001;
}
#orderButton {
  background-image: linear-gradient(135deg, #28a745, #66e56f) !important;
  font-weight: bold;
  letter-spacing: 0.5px;
  border: 3px solid white;
  text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
  position: sticky;
  top: 10px;
  z-index: 99;
}

</style>
</head>
<body>

<header>
  <img src="images/logo.jpg" alt="SetkaZone Logo" />
  <h1>SetkaZone</h1>
</header>

<div class="info-box">
  <h2>Sürgülü Setkalar Haqqında</h2>
  <p>Sürgülü setkalar digər setkalar kimi düşmə ehtimalı yoxdur, materialı adi setkadan çox daha qalın və keyfiyyətlidir. İstifadə olunan tül su keçirmir, lakin hava axını çox eladır. Həmçinin SetkaZone setkaları zəmanətlidir və bütün materialları Türkiyə istehsalıdır. Tülünün təmizlənməsi çox sadədir, nəm dəsmalla silmək kifayətdir.</p>
</div>

<div class="image-gallery">
  <img src="images/setka1.png" alt="Setka 1">
  <img src="images/setka2.png" alt="Setka 2">
  <img src="images/setka3.png" alt="Setka 3">
</div>

<div class="info-box">
  <h2>Niyə Bizi Seçməlisiniz?</h2>
  <p>Keyfiyyətli materiallar, zəmanətli məhsullar və sürətli çatdırılma. Müştəri məmnuniyyəti bizim üçün ön plandadır. Hər zaman yenilikçi və estetik dizaynlar təqdim edirik.</p>
</div>

<div class="info-box">
  <h2>Bizimlə Əlaqə</h2>
  <p><strong>Telefon:</strong> <a href="tel:+994773652117">+994 77 365 21 17</a></p>
<p><strong>E-poçt:</strong> <a href="mailto:ebulfezceferov39@gmail.com">ebulfezceferov39@gmail.com</a></p>
<p><strong> Ünvan:</strong> <a href="https://maps.app.goo.gl/dPkAaggYVXgCTzAB9" target="_blank">Google Xəritədə bax</a></p>
</div>

<div class="social-icons">
  <a href="https://www.tiktok.com/@setkazone3" target="_blank"><img src="images/tiktok_logo.png" alt="TikTok" />@setkazone3</a>
  <a href="https://www.instagram.com/SetkaZone" target="_blank"><img src="images/instagram_icon.png" alt="Instagram" />@SetkaZone</a>
</div>

<button id="orderButton">Sifariş üçün klikləyin</button>
<div id="formOverlay" onclick="hideCalculator()"></div>


<script>
document.getElementById('orderButton').addEventListener('click', function () {
  const form = document.getElementById('calculatorForm');
  const overlay = document.getElementById('formOverlay');
  form.style.display = 'block';
  overlay.style.display = 'block';
  form.classList.add('show-animated');
});
function hideCalculator() {
  const form = document.getElementById('calculatorForm');
  const overlay = document.getElementById('formOverlay');
  form.style.display = 'none';
  overlay.style.display = 'none';
}
</script>

<div id="calculatorForm" style="display:none;">
  <span id="formClose" onclick="hideCalculator()">&times;</span>
    <div class="notice">Qeyd: Çatdırılma və quraşdırılma qiymətə daxil deyil!</div>
    <div class="notice">Qeyd: 1-dən çox sifariş üçün formdan bir neçə dəfə istifadə edin və ya bizlə əlaqə saxlayın!</div>

  <h1>SetkaZone Sifariş Formu (Sexlər üçün)</h1>
  <form id="orderForm">
    <label>En (sm):</label>
    <input type="number" id="width" required>

    <label>Hündürlük (sm):</label>
    <input type="number" id="height" required>
    <div style="margin: 10px 0; text-align:center;">
  <a href="#" onclick="openVideoModal()" class="video-link">
    📏 <strong>Düzgün ölçü alma videosu</strong>
  </a>
</div>
    <label>Rəng seçimi:</label>
    <div class="color-options">
      <label>
        <input type="radio" name="color" value="Ağ" checked />
        <span class="color-box" style="background-color: white; border: 2px solid black;" title="Ağ"></span>
      </label>
      <label>
        <input type="radio" name="color" value="Qara" />
        <span class="color-box" style="background-color: black;border: 2px solid black;" title="Qara"></span>
      </label>
      <label>
        <input type="radio" name="color" value="Qəhvəyi" />
        <span class="color-box" style="background-color: #6e4b3a;border: 2px solid black;" title="Qəhvəyi"></span>
      </label>
      <label>
        <input type="radio" name="color" value="Boz" />
        <span class="color-box" style="background-color: #a0a0a0;border: 2px solid black;" title="Boz"></span>
      </label>
    </div>
<small class="notice">Ağdan başqa hər rəng üçün əlavə 5 AZN tətbiq olunur</small>


    <label>Material qalınlığı:</label>
    <select id="material">
      <option value="orta">Orta</option>
      <option value="qalın">Qalın</option>
    </select>
<small class="notice">Qalın material üçün əlavə 3 AZN tətbiq olunur</small>


    <label>Açılma tipi:</label>
    <select id="opening">
      <option value="yandan">Yandan açılan</option>
      <option value="ustden">Üstdən açılan</option>
    </select>

   <label>Ad, Soyad:</label>
<input type="text" id="fullName" required>

<label>Əlaqə nömrəsi:</label>
<input type="tel" id="phone"
       pattern="^(\+994|994|0)?\d{9}$"
       maxlength="13"
       inputmode="tel"
       placeholder="Nömrənizi daxil edin"
       required>
<div class="address-group">
  <label for="address" class="address-label">Ünvan</label>
  <div class="address-input-wrapper">
    <input type="hidden" id="lat">
<input type="hidden" id="lon">
<input type="hidden" id="mapsLink">
    <input
      type="text"
      id="address"
      name="address"
      required
      placeholder="Ünvan avtomatik doldurulacaq"
    >
    <button
  type="button"
  id="geoBtn"
  class="fancy-button"
  title="Avtomatik lokasiya üçün klikləyin"
  aria-label="Avtomatik lokasiya üçün klikləyin"
> 📍 Avtomatik ünvan</button>
  </div>
<div class="notice" style="margin-top:10px;">Avtomatik ünvan üçün yuxarıdakı düyməyə klikləyin</div>
</div>
<div id="toast" style="
  display:none;
  position:fixed;
  top:20px;
  right:20px;
  background:#28a745;
  color:white;
  padding:12px 18px;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  font-weight:600;
  z-index:9999;
  transition: opacity 0.4s ease;">
</div>
    <button type="button" onclick="calculatePrice()" class="fancy-button">Qiyməti Hesabla və WhatsApp-a keç</button>
  </form>
<div id="priceBox" style="display: none; text-align:center; margin-top:20px;"></div>
<div id="whatsappLinkBox" style="margin-top: 20px; text-align:center;"></div>
  <div id="errorMsg"></div>
</div>
<div class="info-box">
  <h2>Haqqımızda</h2>
  <p>SetkaZone olaraq Xırdalan və Bakı ətrafında keyfiyyətli və zəmanətli sürgülü setkalar hazırlayırıq. Məqsədimiz müştəriyə sərfəli qiymətə uzunömürlü və estetik məhsullar təqdim etməkdir.</p>
</div>

<div class="faq">
  <h2>Tez-tez verilən suallar</h2>
  <details class="faq-item">
    <summary>Setkaların zəmanəti varmı?</summary>
    <p>Bəli, bütün məhsullarımıza zəmanət veririk.</p>
  </details>
  <details class="faq-item">
    <summary>Çatdırılma haralara mümkündür?</summary>
    <p>Bakının bütün ərazilərinə və Xırdalana çatdırılma mümkündür.</p>
  </details>
  <details class="faq-item">
    <summary>Setka necə təmizlənir?</summary>
    <p>Sadəcə yaş dəsmalla silmək kifayətdir.</p>
  </details>
   <details class="faq-item">
    <summary>Sizin setkalar başqa markaların setkalarından nə ilə fərqlənir?</summary>
    <p>Bizim hazırladığımız setkalar defektli çıxarsa,pulsuz dəyişdirərik və ya yenidən düzəldərik.</p>
  </details>
</div>

<script>
  function showCalculator() {
  const form = document.getElementById("calculatorForm");
  form.style.display = "block";
  window.scrollTo({top: 0, behavior: 'smooth'});
}
  function showError(message) {
    const errorDiv = document.getElementById('errorMsg');
    const resultDiv = document.getElementById('result');
    errorDiv.innerText = message;
    errorDiv.style.display = 'block';
    resultDiv.classList.remove('show');
    resultDiv.innerHTML = '';
    document.getElementById('priceBox').style.display = 'none';
    document.getElementById('whatsappLinkBox').innerHTML = '';

  }

function calculatePrice() {
  const widthRaw = document.getElementById('width').value.trim();
  const heightRaw = document.getElementById('height').value.trim();
  const width = Math.ceil(Number(widthRaw));
  const height = Math.ceil(Number(heightRaw));
  const color = document.querySelector('input[name="color"]:checked')?.value || "Ağ";
  const material = document.getElementById('material').value;
  const opening = document.getElementById('opening').value;
  const address = document.getElementById('address').value.trim();
  const fullName = document.getElementById('fullName').value.trim();
  const phone = document.getElementById('phone').value.trim();

  const errorDiv = document.getElementById('errorMsg');
  errorDiv.style.display = 'none';

  if (!fullName) return showError('Zəhmət olmasa, ad və soyad daxil edin.');
const cleanedPhone = phone.replace(/\s/g, '');

if (!/^(?:\+994|994|0)?\d{9}$/.test(cleanedPhone)) {
  showError('Zəhmət olmasa, düzgün Azərbaycan nömrəsi daxil edin. Məsələn: 0501234567, 994501234567 və ya +994501234567');
  return;
}
  if (!widthRaw || isNaN(width) || width < 40) return showError('Zəhmət olmasa, en üçün 40 və daha böyük rəqəm daxil edin.');
  if (!heightRaw || isNaN(height) || height < 40) return showError('Zəhmət olmasa, hündürlük üçün 40 və daha böyük rəqəm daxil edin.');
  if (!address) return showError('Zəhmət olmasa, ünvanı daxil edin.');

  let basePrice = 0;
  if (width >= 40 && width <= 70 && height <= 100) basePrice = 24;
  else if (width >= 40 && width <= 70 && height <= 120) basePrice = 27;
  else if (width >= 40 && width <= 70 && height <= 140) basePrice = 31;
  else if (width >= 40 && width <= 80 && height <= 150) basePrice = 34;
  else if (width >= 40 && width <= 80 && height <= 170) basePrice = 41;
  else if (width >= 50 && width <= 90 && height <= 200) basePrice = 48;
  else if (width >= 50 && width <= 100 && height <= 220) basePrice = 58;
  else if (width >= 50 && width <= 100 && height <= 240) basePrice = 68;
  else if (width >= 50 && width <= 100 && height <= 300) basePrice = 95;
  else return showError('Daxil etdiyiniz ölçülər üçün qiymət mövcud deyil,xahiş olunur bizlə əlaqə saxlayın.');

  if (material === 'qalın') basePrice += 3;
  if (color !== 'Ağ') basePrice += 5;

  document.getElementById('priceBox').style.display = 'block';
  document.getElementById('priceBox').innerHTML = `
    <div style="font-size: 1.4em; font-weight: bold; color: #005baa;">
      Qiymət: ${basePrice} AZN
    </div>
  `;

  const lat = document.getElementById('lat').value;
  const lon = document.getElementById('lon').value;
  const maps = document.getElementById('mapsLink').value;
  const mapsLink = lat && lon ? `\nXəritə: https://maps.google.com/?q=${lat},${lon}` : "";

  const message = `Sifariş detalları:
Ölçü:  ${widthRaw}x${heightRaw} sm
Rəng: ${color}
Material: ${material}
Açılma tipi: ${opening}
Ad Soyad: ${fullName}
Əlaqə: ${phone}
Ünvan: ${address}
${mapsLink}
Qiymət: ${basePrice} AZN`;

  const encodedMessage = encodeURIComponent(message);
  document.getElementById('whatsappLinkBox').innerHTML = `
    <a href="https://wa.me/994773652117?text=${encodedMessage}" class="whatsapp-button" target="_blank">
      <img src="images/whatsapp-web.png" alt="WhatsApp" class="whatsapp-icon">
      <span>WhatsApp ilə sifariş et</span>
    </a>
  `;
}

function showToast(msg) {
  const toast = document.getElementById("toast");
  toast.innerText = msg;
  toast.style.display = "block";
  toast.style.opacity = 1;

  setTimeout(() => {
    toast.style.opacity = 0;
    setTimeout(() => {
      toast.style.display = "none";
    }, 400);
  }, 3500);
}

async function fillAddressFromLocation() {
  const addressInput = document.getElementById('address');
  const latInp = document.getElementById('lat');
  const lonInp = document.getElementById('lon');
  const mapsInp = document.getElementById('mapsLink');

  if (!navigator.geolocation) {
    showError('Brauzeriniz lokasiya funksiyasını dəstəkləmir, xahiş olunur ünvanı manuel daxil edin.');
    return;
  }

  navigator.geolocation.getCurrentPosition(
    async (position) => {
      const lat = position.coords.latitude.toFixed(6);
      const lon = position.coords.longitude.toFixed(6);

      latInp.value = lat;
      lonInp.value = lon;
      mapsInp.value = `https://maps.google.com/?q=${lat},${lon}`;

      try {
        const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`;
        const resp = await fetch(url, {
          headers: { 'Accept-Language': 'az' }
        });
        if (!resp.ok) throw new Error();

        const data = await resp.json();
        const address = data?.display_name || `${lat}, ${lon}`;
        addressInput.value = address;

        showToast("✅ Ünvan avtomatik dolduruldu");
      } catch {
        addressInput.value = `${lat}, ${lon}`;
        showToast("⚠️ Koordinatlar alındı, lakin ünvan tapılmadı");
      }
    },
    () => {
      showError('📍 Lokasiya əldə olunmadı, zəhmət olmasa GPS-i yoxlayın.');
    },
    {
      enableHighAccuracy: true,
      timeout: 20000,
      maximumAge: 0
    }
  );
}

document.addEventListener("DOMContentLoaded", function () {
  const geoBtn = document.getElementById("geoBtn");
  if (geoBtn) {
    geoBtn.addEventListener("click", fillAddressFromLocation);
  }
});

</script>
<!-- Ölçü Video Modal -->
<div id="videoModal" class="video-modal">
  <div class="video-content">
    <span class="close-btn" onclick="closeVideoModal()">&times;</span>
    <video id="measureVideo" controls>
      <source src="images/olcu.mp4" type="video/mp4">
      Sizin brauzeriniz videonu dəstəkləmir.
    </video>
  </div>
</div>

<script>
function openVideoModal() {
  const modal = document.getElementById("videoModal");
  modal.classList.add("show");
  document.body.style.overflow = "hidden";
  const video = document.getElementById("measureVideo");
  video.currentTime = 0;
  video.play();
}
function closeVideoModal() {
  const modal = document.getElementById("videoModal");
  const video = document.getElementById("measureVideo");
  modal.classList.remove("show");
  document.body.style.overflow = "";
  video.pause();
  video.currentTime = 0;
  const form = document.getElementById("calculatorForm");
  if (form) {
    form.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }
}
</script>
</body>
</html>
